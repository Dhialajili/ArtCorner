{% extends 'base.html.twig' %}



{% block body %}
<link rel="stylesheet" href="{{asset('assets/css/title.css')}}"/>
<link rel="stylesheet" href="{{asset('assets/css/artwork.css')}}"/>     
 <div class="title">
        <h2>{{ art_work.Title }}</h2>
        <h5 style="font-size: 16px;margin-top: -30px;color: #15212f;
  
  "> {{ art_work.category }}, {{ art_work.style}}, {{art_work.subject}} </h5>     
 </div> 
 {% set verification = false %}      
<div>            
  <ul class="card">
               
   <li class="section1">
    <img class="cover"src="/uploads/artworks/{{art_work.image}} " alt="">
    <h5>Description originale de l'oeuvre : </h5>
    <p>{{ art_work.description }}</p>
    <h5>Les matériaux utilisés : </h5>
    <p>{{ art_work.materialsUsed }}</p> 
   </li>
   <li class="section2">
    <h5>{{ art_work.Title }}</h5>
    <p>Catégorie : {{ art_work.category }}</p>
    <h5>Faite par : {{ art_work.user.artist.username }}</h5>
    <h5>Prix : {{ art_work.price }} TND</h5>
    <p>Dimensions : {{ art_work.width }} x {{ art_work.hight }} cm</p> 
    <p>Style : {{ art_work.style }}</p>
    <p>Sujet : {{ art_work.subject }}</p>      
    <p>Ajoutée le : {{ art_work.createdAt ? art_work.createdAt|date('Y-m-d') : '' }}</p>
    {% for reservation in reservations %}
      {% if art_work.Title == reservation.name %}
        {% if reservation.status == "Accepté" %}
          {% set verification = "True" %}
        {% endif %}
      {% endif %}
      {% if verification == "True" %}
      <h5>Réserver par {{reservation.user.professional.username}}</h5>
      {% endif %}
      
    {% endfor %}
    {% if verification == "True" %}
    {% elseif is_granted('ROLE_PROFESSIONAL') %}
    <a href="{{path('the_reservation',{id: art_work.id})}}"><button class="reservation">Réserver</button></a>
      {% elseif is_granted('ROLE_AMATEUR') %}
      <a href="{{path('the_reservation',{id: art_work.id})}}"><button class="reservation">Réserver</button></a>
    {% endif %}
      
    
   </li>
      
  </ul>  
</div>
    

    

    
{% endblock %}
